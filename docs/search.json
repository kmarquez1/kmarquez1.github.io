[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Kaelyn Marquez",
    "section": "",
    "text": "California State University, Fullerton | Fullerton, CA | Aug 2021 - May 2025"
  },
  {
    "objectID": "index.html#education",
    "href": "index.html#education",
    "title": "Kaelyn Marquez",
    "section": "",
    "text": "California State University, Fullerton | Fullerton, CA | Aug 2021 - May 2025"
  },
  {
    "objectID": "index.html#research-experience",
    "href": "index.html#research-experience",
    "title": "Kaelyn Marquez",
    "section": "Research Experience",
    "text": "Research Experience\nSocal Data Science Program | Undergraduate Data Science Researcher | Jan 2024 - July 2024"
  },
  {
    "objectID": "Obesity-Final-Project.html",
    "href": "Obesity-Final-Project.html",
    "title": "Understanding the Impact of Alcohol and Smoking on Obesity Levels",
    "section": "",
    "text": "This project explores how lifestyle habits like drinking alcohol and smoking may be related to different levels of obesity. Obesity is a major health concern that can lead to serious conditions such as heart disease, diabetes, and certain types of cancer. While many factors can affect a person’s weight, behaviors like drinking and smoking are common and often overlooked when it comes to their possible impact on health.\nI chose this topic because it connects real world health issues with data analysis. I wanted to better understand whether habits like alcohol use or smoking are linked to obesity, and if so, how strong those connections are. This kind of information can be helpful not just for individuals who want to learn more about their own health, but also for doctors, public health professionals, or policy makers who want to support healthier communities. By using data and statistical models, this project aims to uncover patterns that can make those links clearer and more understandable.\nIn this dataset, obesity is divided into seven categories which are: Insufficient Weight, Normal Weight, Overweight Level I, Overweight Level II, Obesity Type I, Obesity Type II, and Obesity Type III. These categories are based on body measurements like weight and height, similar to how Body Mass Index (BMI) is used in medical setting. For example, “Normal Weight” represents a healthy range, while “Overweight Levels I and II” suggest increasing excess weight. “Obesity Types I, II, and III” indicate progressively higher degrees of obesity, with Type III being the most extreme. Understanding how lifestyle behaviors show up across these categories can help reveal what role habits like drinking and smoking might play in influencing a person’s weight and overall health."
  },
  {
    "objectID": "Obesity-Final-Project.html#motivation-and-context",
    "href": "Obesity-Final-Project.html#motivation-and-context",
    "title": "Understanding the Impact of Alcohol and Smoking on Obesity Levels",
    "section": "",
    "text": "This project explores how lifestyle habits like drinking alcohol and smoking may be related to different levels of obesity. Obesity is a major health concern that can lead to serious conditions such as heart disease, diabetes, and certain types of cancer. While many factors can affect a person’s weight, behaviors like drinking and smoking are common and often overlooked when it comes to their possible impact on health.\nI chose this topic because it connects real world health issues with data analysis. I wanted to better understand whether habits like alcohol use or smoking are linked to obesity, and if so, how strong those connections are. This kind of information can be helpful not just for individuals who want to learn more about their own health, but also for doctors, public health professionals, or policy makers who want to support healthier communities. By using data and statistical models, this project aims to uncover patterns that can make those links clearer and more understandable.\nIn this dataset, obesity is divided into seven categories which are: Insufficient Weight, Normal Weight, Overweight Level I, Overweight Level II, Obesity Type I, Obesity Type II, and Obesity Type III. These categories are based on body measurements like weight and height, similar to how Body Mass Index (BMI) is used in medical setting. For example, “Normal Weight” represents a healthy range, while “Overweight Levels I and II” suggest increasing excess weight. “Obesity Types I, II, and III” indicate progressively higher degrees of obesity, with Type III being the most extreme. Understanding how lifestyle behaviors show up across these categories can help reveal what role habits like drinking and smoking might play in influencing a person’s weight and overall health."
  },
  {
    "objectID": "Obesity-Final-Project.html#main-objective",
    "href": "Obesity-Final-Project.html#main-objective",
    "title": "Understanding the Impact of Alcohol and Smoking on Obesity Levels",
    "section": "Main Objective",
    "text": "Main Objective\nThe main goal of this project is to investigate how alcohol consumption and smoking relate to obesity levels. I wanted to see whether these habits are useful for predicting which obesity category a person falls into, and whether they still matter when other lifestyle variables are also considered. By analyzing these variables in full models, the project uncovers patterns that show how everyday decisions may relate to obesity risk.\nThis analysis is meant to provide insight into whether drinking and smoking are just common lifestyle factors or if they actually contribute to higher obesity risk. The findings could be helpful for individuals trying to make healthier choices, as well as for professionals working in health education or policy."
  },
  {
    "objectID": "Obesity-Final-Project.html#packages-used-in-this-analysis",
    "href": "Obesity-Final-Project.html#packages-used-in-this-analysis",
    "title": "Understanding the Impact of Alcohol and Smoking on Obesity Levels",
    "section": "Packages Used In This Analysis",
    "text": "Packages Used In This Analysis\n\nlibrary(here)\nlibrary(readr)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(rsample)\nlibrary(dplyr)\nlibrary(naniar)\nlibrary(tidymodels)\nlibrary(nnet)\nlibrary(tibble)\nlibrary(yardstick)\nlibrary(broom)\nlibrary(glmnet)\n\n\n\n\nPackage\nUse\n\n\n\n\nhere\nto easily load and save data\n\n\nreadr\nto import the CSV file data\n\n\ndplyr\nto massage and summarize data\n\n\nrsample\nto split data into training and test sets\n\n\nnaniar\nto check for missing values\n\n\nggplot2\nto create nice looking and informative graphs\n\n\nnnet\nto fit multinomial logistic regression\n\n\ntibble\nto create and manipulate tidy data frames\n\n\nyardstick\nto calculate model performance metrics like accuracy\n\n\nbroom\nto tidy up model output for easier interpretation\n\n\nglmnet\nto fit LASSO models using regularization"
  },
  {
    "objectID": "Obesity-Final-Project.html#data-description",
    "href": "Obesity-Final-Project.html#data-description",
    "title": "Understanding the Impact of Alcohol and Smoking on Obesity Levels",
    "section": "Data Description",
    "text": "Data Description\nThe data used in this project comes from the UCI Machine Learning Repository, and it is titled Estimation of Obesity Levels Based on Eating Habits and Physical Condition. This dataset can be accessed here. The dataset was created by researchers Fabio Palechor and Alexis de la Hoz Manotas and published around 2018. The data was collected using a web based survey where anonymous individuals from Mexico, Peru and Colombia reported information about their lifestyle habits and physical conditions. Participants were between the ages of 14 and 61 and answered questions related to eating behavior, exercise, water intake, alcohol consumption, smoking and more.\nThe goal of the original study was to explore the relationship between these lifestyle factors and obesity. In total, the dataset includes 2,111 observations with 17 variables. The target variable, NObeyesdad, classifies individuals into one of the seven categories that range from Insufficient Weight to Obesity Type III. These categories are based on physical measurements like height and weight and are structured similarly to BMI based classifications.\nTo improve class balance, the researches used SMOTE (Synthetic Minority Over-sampling Technique) in Weka to generate 77% of the data synthetically. The remaining 23% comes from real survey responses. SMOTE helps ensure that all obesity categories are well represented in the data, which can help models perform more reliably across all classes.\n\nlibrary(readr)\nobesity &lt;- read_csv(\"ObesityDataSet_raw_and_data_sinthetic.csv\")\n\n\nData Limitations"
  },
  {
    "objectID": "Obesity-Final-Project.html#data-wrangling",
    "href": "Obesity-Final-Project.html#data-wrangling",
    "title": "Understanding the Impact of Alcohol and Smoking on Obesity Levels",
    "section": "Data Wrangling",
    "text": "Data Wrangling\n\n# converting character variables to factors\nobesity &lt;- obesity |&gt;\n  mutate(across(where(is.character), as.factor))\n\n# splitting data\nset.seed(12345)\n\nobesity_split &lt;- initial_split(obesity, prop = 0.80)\nobesity_train &lt;- training(obesity_split)\nobesity_test &lt;- testing(obesity_split)\n\nobesity_train &lt;- obesity_train |&gt;\n  rename(hist_overweight = family_history_with_overweight)\n\nobesity_test &lt;- obesity_test |&gt;\n  rename(hist_overweight = family_history_with_overweight)\n\n\ntotal_missing &lt;- sum(is.na(obesity_train))\ntotal_missing\n\n[1] 0\n\nobesity_train |&gt;\n  miss_var_summary()\n\n# A tibble: 17 × 3\n   variable        n_miss pct_miss\n   &lt;chr&gt;            &lt;int&gt;    &lt;num&gt;\n 1 Gender               0        0\n 2 Age                  0        0\n 3 Height               0        0\n 4 Weight               0        0\n 5 hist_overweight      0        0\n 6 FAVC                 0        0\n 7 FCVC                 0        0\n 8 NCP                  0        0\n 9 CAEC                 0        0\n10 SMOKE                0        0\n11 CH2O                 0        0\n12 SCC                  0        0\n13 FAF                  0        0\n14 TUE                  0        0\n15 CALC                 0        0\n16 MTRANS               0        0\n17 NObeyesdad           0        0"
  },
  {
    "objectID": "Obesity-Final-Project.html#exploratory-data-analysis",
    "href": "Obesity-Final-Project.html#exploratory-data-analysis",
    "title": "Understanding the Impact of Alcohol and Smoking on Obesity Levels",
    "section": "Exploratory Data Analysis",
    "text": "Exploratory Data Analysis\n\nggplot(obesity_train, \n       aes(x = NObeyesdad)) +\n  geom_bar(fill = \"lightblue\") +\n  labs(title = \"Count of Individuals by Obesity Category\",\n       x = \"Obesity Category\",\n       y = \"Count\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nggplot(obesity_train, \n       aes(x = NObeyesdad, y = Weight)) +\n  geom_boxplot(fill = \"purple\") +\n  labs(\n    title = \"Weight Distribution by Obesity Category\",\n    x = \"Obesity Category\",\n    y = \"Weight (kg)\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nggplot(obesity_train,\n       aes(x = NObeyesdad, fill = CALC)) +\n  geom_bar(position = \"dodge\") +\n  labs(\n    title = \"Alcohol Consumption by Obesity Category\",\n    x = \"Obesity Category\",\n    y = \"Count\",\n    fill = \"Alcohol Consumption\"\n  ) + theme(axis.text.x = element_text(angle = 45, hjust = 1 ))\n\n\n\n\n\nggplot(obesity_train,\n       aes(x = NObeyesdad, fill = SMOKE)) +\n  geom_bar(position = \"dodge\") +\n  labs(\n    title = \"Proportion of Smokers by Obesity Category\",\n    x = \"Obesity Category\",\n    y = \"Count\",\n    fill = \"Smoke\"\n  ) + theme(axis.text.x = element_text(angle = 45, hjust = 1 ))\n\n\n\n\n\nggplot(obesity_train,\n       aes(x = NObeyesdad,\n           y = FAF)) +\n  geom_boxplot(fill = \"lightpink\") +\n  labs(\n    title = \"Physical Activity (FAF) by Obesity Category\",\n    x = \"Obesity Category\",\n    y = \"Physical Activity Frequency (FAF)\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nobesity_train |&gt;\n  group_by(NObeyesdad) |&gt;\n  summarize(\n    total = n(),\n    min = min(FAF, na.rm = TRUE),\n    Q1 = quantile(FAF, 0.25, na.rm = TRUE),\n    median = median(FAF, na.rm = TRUE),\n    Q3 = quantile(FAF, 0.75, na.rm = TRUE),\n    max = max(FAF, na.rm = TRUE),\n    mean = mean(FAF, na.rm = TRUE),\n    sd = sd(FAF, na.rm = TRUE)\n  )\n\n# A tibble: 7 × 9\n  NObeyesdad          total   min     Q1 median    Q3   max  mean    sd\n  &lt;fct&gt;               &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Insufficient_Weight   223     0 0.520   1.49   2        3 1.30  0.856\n2 Normal_Weight         223     0 0       1      2        3 1.31  1.04 \n3 Obesity_Type_I        259     0 0.0603  1      1.81     3 1.03  0.918\n4 Obesity_Type_II       244     0 0.611   1.02   1.39     2 1.00  0.579\n5 Obesity_Type_III      262     0 0       0.214  1.43     2 0.639 0.719\n6 Overweight_Level_I    233     0 0.379   1      1.68     3 1.08  0.856\n7 Overweight_Level_II   244     0 0.106   1      1.47     3 0.974 0.842\n\n\n\nggplot(\n  obesity_train, \n  aes(x = Height,\n      y = Weight, \n      color = NObeyesdad)) +\n  geom_point(alpha = 0.7) +\n  labs(\n    title = \"Height vs. Weight by Obesity Category\",\n    x = \"Height (m)\",\n    y = \"Weight (kg)\",\n    color = \"Obesity Category\"\n  ) +\n  theme(legend.position = \"right\")\n\n\n\n\n\nggplot(\n  obesity_train, \n  aes(x = NCP)\n) + geom_histogram(binwidth = 1, fill = \"skyblue\", color = \"black\") +\n  labs(\n    title = \"Distribution of Number of Main Meals (NCP)\",\n    x = \"Number of Main Meals\",\n    y = \"Count\"\n  )\n\n\n\n\n\nggplot(obesity_train, aes(x = NObeyesdad, \n                          y = NCP)) +\n  geom_boxplot(fill = \"lavender\") +\n  labs(\n    title = \"Number of Main Meals (NCP) by Obesity Category\",\n    x = \"Obesity Category\",\n    y = \"Number of Main Meals (NCP)\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nggplot(obesity_train, \n       aes(x = NObeyesdad, \n           fill = hist_overweight)) +\n  geom_bar(position = \"dodge\") +\n  labs(\n    title = \"Family History of Overweight by Obesity Category\",\n    x = \"Obesity Category\",\n    y = \"Count\",\n    fill = \"Family History\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nggplot(obesity_train, \n       aes(x = NObeyesdad, fill = FAVC)) +\n  geom_bar(position = \"dodge\") +\n  labs(\n    title = \"High-Calorie Food Consumption (FAVC) by Obesity Category\",\n    x = \"Obesity Category\",\n    y = \"Count\",\n    fill = \"FAVC\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nggplot(obesity_train, aes(x = NObeyesdad, y = FCVC)) +\n  geom_boxplot(fill = \"lightgreen\") +\n  labs(\n    title = \"Vegetable Consumption (FCVC) by Obesity Category\",\n    x = \"Obesity Category\",\n    y = \"Frequency of Vegetable Consumption\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nggplot(obesity_train, aes(x = NObeyesdad, fill = CAEC)) +\n  geom_bar(position = \"dodge\") +\n  labs(\n    title = \"Eating Between Meals (CAEC) by Obesity Category\",\n    x = \"Obesity Category\",\n    y = \"Count\",\n    fill = \"CAEC\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))"
  },
  {
    "objectID": "Obesity-Final-Project.html#modeling",
    "href": "Obesity-Final-Project.html#modeling",
    "title": "Understanding the Impact of Alcohol and Smoking on Obesity Levels",
    "section": "Modeling",
    "text": "Modeling\nMultinomial Logistic Regression\nIn this section, I build and evaluate models to predict an individual’s obesity category based on their lifestyle habits. I start with a multinomial logistic regression model because it allows me to model a categorical outcome with more than two classes. This model is also interpretable because it provides coefficients that show how predictors affect the odds of being in a specific obesity category compared to a reference group. This helps me understand how variables like alcohol consumption (CALC) and smoking (SMOKE) are related to different obesity levels and whether those behaviors are associated with increased risk.\n\n# make sure outcome variable is a factor\nobesity_train$NObeyesdad &lt;- as.factor(obesity_train$NObeyesdad)\nobesity_test$NObeyesdad &lt;- as.factor(obesity_test$NObeyesdad)\n\n\n# all predictors to model the 7-category outcome\nmultinom_model &lt;- multinom(NObeyesdad ~ . - Height - Weight, data = obesity_train)\n\n# weights:  161 (132 variable)\ninitial  value 3284.696332 \niter  10 value 2521.452313\niter  20 value 2055.838062\niter  30 value 1842.942856\niter  40 value 1771.136782\niter  50 value 1726.623624\niter  60 value 1708.439310\niter  70 value 1696.562854\niter  80 value 1684.548609\niter  90 value 1681.821920\niter 100 value 1672.112474\nfinal  value 1672.112474 \nstopped after 100 iterations\n\ntidy(multinom_model)\n\n# A tibble: 132 × 6\n   y.level       term               estimate std.error statistic  p.value\n   &lt;chr&gt;         &lt;chr&gt;                 &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n 1 Normal_Weight (Intercept)           9.70     1.16        8.39 4.92e-17\n 2 Normal_Weight GenderMale            0.792    0.258       3.07 2.14e- 3\n 3 Normal_Weight Age                   0.210    0.0384      5.46 4.78e- 8\n 4 Normal_Weight hist_overweightyes    0.549    0.249       2.21 2.73e- 2\n 5 Normal_Weight FAVCyes              -0.470    0.292      -1.61 1.07e- 1\n 6 Normal_Weight FCVC                 -0.648    0.210      -3.09 2.02e- 3\n 7 Normal_Weight NCP                  -0.505    0.149      -3.38 7.25e- 4\n 8 Normal_Weight CAECFrequently       -3.03     0.826      -3.67 2.39e- 4\n 9 Normal_Weight CAECno               -1.78     1.17       -1.52 1.29e- 1\n10 Normal_Weight CAECSometimes        -2.16     0.807      -2.67 7.50e- 3\n# ℹ 122 more rows\n\n\n\n# predict on obesity category for each oberservation\nmultinom_preds &lt;- predict(multinom_model, newdata = obesity_test)\n\n# results tibble true and predicted labels \nmultinom_results &lt;- tibble(\n  truth = obesity_test$NObeyesdad,\n  prediction = multinom_preds\n)\n\n# evaluate the model performance\nconf_mat(multinom_results, truth = truth, estimate = prediction)\n\n                     Truth\nPrediction            Insufficient_Weight Normal_Weight Obesity_Type_I\n  Insufficient_Weight                  38            18              1\n  Normal_Weight                         5            26              4\n  Obesity_Type_I                        1             4             51\n  Obesity_Type_II                       2             2             15\n  Obesity_Type_III                      0             0              1\n  Overweight_Level_I                    1            10             11\n  Overweight_Level_II                   2             4              9\n                     Truth\nPrediction            Obesity_Type_II Obesity_Type_III Overweight_Level_I\n  Insufficient_Weight               0                0                  2\n  Normal_Weight                     0                0                 11\n  Obesity_Type_I                    1                0                  7\n  Obesity_Type_II                  50                0                  7\n  Obesity_Type_III                  0               62                  0\n  Overweight_Level_I                0                0                 25\n  Overweight_Level_II               2                0                  5\n                     Truth\nPrediction            Overweight_Level_II\n  Insufficient_Weight                   1\n  Normal_Weight                         2\n  Obesity_Type_I                       12\n  Obesity_Type_II                      14\n  Obesity_Type_III                      0\n  Overweight_Level_I                    2\n  Overweight_Level_II                  15\n\n\nBased on the confusion matrix, the model did a really good job predicting most of the obesity categories correctly. It was especially accurate for Obesity Type I, II, and III, where the predictions were almost perfect. There were a few mistakes, mainly between categories that are close to each other, like Normal Weight being confused with Overweight Level I or Overweight Level II being confused with Obesity Type I. That kind of mix-up makes sense since those groups might have similar habits or measurements. Overall, the model is performing very well across all obesity categories.\n\naccuracy(multinom_results, truth = truth, estimate = prediction)\n\n# A tibble: 1 × 3\n  .metric  .estimator .estimate\n  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;\n1 accuracy multiclass     0.631\n\n\nI used accuracy and a confusion matrix to evaluate how well the model performed. Accuracy is a common and simple metric that tells me what proportion of the predictions were correct overall. It’s calculated by dividing the number of correct predictions by the total number of predictions. I also included a confusion matrix because accuracy alone doesn’t always show how the model did for each specific class. The confusion matrix helps me see which categories were predicted correctly and which ones the model mixed up, so I can tell if it’s doing well across all obesity levels.\n\ntidy_multinom &lt;- tidy(multinom_model)\nsmoke_calc &lt;- tidy_multinom |&gt;\n  filter(term %in% c(\"SMOKEyes\", \"CALCno\", \"CALCsometimes\", \"CALCalways\"))\nsmoke_calc\n\n# A tibble: 12 × 6\n   y.level             term     estimate std.error statistic   p.value\n   &lt;chr&gt;               &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n 1 Normal_Weight       SMOKEyes    14.8      0.651     22.8  3.85e-115\n 2 Normal_Weight       CALCno      -8.86     0.508    -17.4  4.29e- 68\n 3 Obesity_Type_I      SMOKEyes    13.4      0.752     17.9  1.74e- 71\n 4 Obesity_Type_I      CALCno      -1.37     0.578     -2.36 1.81e-  2\n 5 Obesity_Type_II     SMOKEyes    14.5      0.760     19.0  7.90e- 81\n 6 Obesity_Type_II     CALCno      -5.70     0.776     -7.34 2.14e- 13\n 7 Obesity_Type_III    SMOKEyes    11.6      1.62       7.17 7.28e- 13\n 8 Obesity_Type_III    CALCno     -28.3      3.38      -8.37 5.56e- 17\n 9 Overweight_Level_I  SMOKEyes    11.9      1.04      11.4  2.38e- 30\n10 Overweight_Level_I  CALCno      -1.28     0.578     -2.21 2.73e-  2\n11 Overweight_Level_II SMOKEyes    13.7      0.641     21.3  7.66e-101\n12 Overweight_Level_II CALCno       1.57     0.606      2.59 9.57e-  3\n\n\nThe model shows that both smoking and alcohol habits are related to obesity. The coefficients for SMOKEyes were large and positive across all categories, meaning smokers had much higher odds of being classified as overweight or obese compared to the baseline group. For alcohol, the results were more surprising. People who said they don’t drink (CALCno) also had higher odds of being classified in an obesity category. This might be due to how alcohol use is reported or other lifestyle factors in the data. Overall, both variables were statistically significant and stood out as important predictors in the model.\nEven though my main goal was to understand the impact of smoking and alcohol on obesity, I included other lifestyle variables in the model because they can also affect weight. This makes the model more realistic and helps me see whether smoking and alcohol still matter when everything else is taken into account. Based on the results, both SMOKE and CALC were still strong predictors even after controlling for things like exercise, diet, and family history.\nLASSO\nTo complement the multinomial regression model, I also use a LASSO model. LASSO works by shrinking the coefficients of less important predictors all the way to zero. This means it automatically removes variables that don’t contribute to much to predicting the outcome. I wanted to see if whether smoking and alcohol consumption would still be selected as important predictors after the model was simplified.\nI created the model, recipe and workflow as shown below. Categorical variables were converted into dummy variables and all numeric variables were standardized to the same scale since LASSO is sensitive to variable scaling.\n\nlasso_model &lt;- multinom_reg(mode = \"classification\", engine = \"glmnet\",\n                          penalty = tune(),\n                          mixture = 1) # 1 is LASSO\n\nlasso_recipe &lt;- recipe(NObeyesdad ~ ., data = obesity_train) |&gt;\n  step_rm(Height, Weight) |&gt;\n  step_dummy(all_nominal_predictors()) |&gt; # since they are categorical \n  step_normalize(all_numeric_predictors()) # same scale \n\nlasso_wflow &lt;- workflow() |&gt;\n  add_model(lasso_model) |&gt;\n  add_recipe(lasso_recipe)\n\nI used 5 fold cross validation to tune the penalty parameter. I tested 25 (arbitrarily) different values and selected the final model using the one-standard-error rule, which prefers a simpler model that still performs well.\n\nset.seed(12345)\ncv_folds &lt;- vfold_cv(obesity_train, v = 5)\n\nlasso_tune &lt;- tune_grid(\n  lasso_wflow,\n  resamples = cv_folds,\n  grid = 25  # different values\n)\n\n\nlasso_best &lt;- lasso_tune |&gt;\n  select_by_one_std_err(penalty, desc(penalty))\n\nlasso_wflow_final &lt;- lasso_wflow |&gt;\n  finalize_workflow(parameters = lasso_best) \n\nlasso_fit &lt;- lasso_wflow_final |&gt;\n  fit(data = obesity_train)\nlasso_best\n\n# A tibble: 1 × 2\n   penalty .config              \n     &lt;dbl&gt; &lt;chr&gt;                \n1 2.08e-10 Preprocessor1_Model01\n\n\nThe best penalty value selected by cross-validation was approximately 2.08e-10. Since this value is very small, it means the model applied only a small amount of shrinkage, allowing most of the predictors to remain in the model. This suggests that many variables in the dataset were helpful for predicting obesity categories, and not many were removed by LASSO.\n\n# Plot coefficient paths across penalty values\nlasso_fit |&gt; \n  extract_fit_engine() |&gt; \n  plot(xvar = \"lambda\", label = TRUE)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe coefficient path plots show how the values of different predictors change as the penalty term increases. As the penalty increases (moving left to right), the model applies more shrinkage, and many coefficients are pulled closer to zero. This is how LASSO performs variable selection.\nIn my case, most predictors stayed close to zero early on, meaning they weren’t very strong. However, some predictors remained further from zero longer, suggesting they were more important in predicting that specific obesity category. By looking at these plots, I was able to confirm that LASSO kept only the most useful predictors while filtering out the rest.\nAfter fitting the model, I extracted the coefficients and focused on SMOKE and CALC to see if they were selected by LASSO.\n\nlasso_coef &lt;- lasso_fit |&gt;\n  broom::tidy()\nlasso_coef \n\n# A tibble: 154 × 4\n   class               term                estimate  penalty\n   &lt;chr&gt;               &lt;chr&gt;                  &lt;dbl&gt;    &lt;dbl&gt;\n 1 Insufficient_Weight (Intercept)            2.32  2.08e-10\n 2 Insufficient_Weight Age                   -1.99  2.08e-10\n 3 Insufficient_Weight FCVC                   0.336 2.08e-10\n 4 Insufficient_Weight NCP                    0.398 2.08e-10\n 5 Insufficient_Weight CH2O                   0     2.08e-10\n 6 Insufficient_Weight FAF                    0.183 2.08e-10\n 7 Insufficient_Weight TUE                    0.485 2.08e-10\n 8 Insufficient_Weight Gender_Male           -0.396 2.08e-10\n 9 Insufficient_Weight hist_overweight_yes   -1.20  2.08e-10\n10 Insufficient_Weight FAVC_yes              -0.210 2.08e-10\n# ℹ 144 more rows\n\n\nLASSO didn’t shrink that many coefficients to zero, which suggests that a lot of the variables in the dataset are actually useful for predicting obesity categories. This makes sense since the model is trying to classify people into seven different groups, so it needs a range of information to do that well. Even with regularization, LASSO still kept variables like smoking and alcohol, which shows they’re important predictors. The fact that many variables were kept means the model may be capturing more complex relationships between lifestyle habits and obesity levels.\n\nlasso_coef |&gt;\n  filter(term %in% c(\"SMOKE_yes\", \"CALC_no\", \"CALC_always\", \"CALC_sometimes\"))\n\n# A tibble: 14 × 4\n   class               term        estimate  penalty\n   &lt;chr&gt;               &lt;chr&gt;          &lt;dbl&gt;    &lt;dbl&gt;\n 1 Insufficient_Weight SMOKE_yes -0.904     2.08e-10\n 2 Insufficient_Weight CALC_no    0.000951  2.08e-10\n 3 Normal_Weight       SMOKE_yes  0.173     2.08e-10\n 4 Normal_Weight       CALC_no   -0.286     2.08e-10\n 5 Obesity_Type_I      SMOKE_yes  0         2.08e-10\n 6 Obesity_Type_I      CALC_no    0.177     2.08e-10\n 7 Obesity_Type_II     SMOKE_yes  0.119     2.08e-10\n 8 Obesity_Type_II     CALC_no    0         2.08e-10\n 9 Obesity_Type_III    SMOKE_yes -0.217     2.08e-10\n10 Obesity_Type_III    CALC_no   -0.0000198 2.08e-10\n11 Overweight_Level_I  SMOKE_yes -0.204     2.08e-10\n12 Overweight_Level_I  CALC_no   -0.444     2.08e-10\n13 Overweight_Level_II SMOKE_yes  0.0374    2.08e-10\n14 Overweight_Level_II CALC_no    0.0363    2.08e-10\n\n\nAfter using LASSO, only the CALC_no variable was kept in the model. The other alcohol-related categories like CALC_always and CALC_sometimes were removed, meaning they didn’t provide enough useful information for predicting obesity categories. This shows that not drinking alcohol had more predictive value than drinking occasionally or always, at least in this dataset.\n\nlasso_preds &lt;- predict(lasso_fit, new_data = obesity_test) |&gt;\n  bind_cols(obesity_test)\n\naccuracy(lasso_preds, truth = NObeyesdad, estimate = .pred_class)\n\n# A tibble: 1 × 3\n  .metric  .estimator .estimate\n  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;\n1 accuracy multiclass     0.634\n\nconf_mat(lasso_preds, truth = NObeyesdad, estimate = .pred_class)\n\n                     Truth\nPrediction            Insufficient_Weight Normal_Weight Obesity_Type_I\n  Insufficient_Weight                  38            18              1\n  Normal_Weight                         5            26              3\n  Obesity_Type_I                        1             4             51\n  Obesity_Type_II                       2             2             15\n  Obesity_Type_III                      0             1              0\n  Overweight_Level_I                    1            10             12\n  Overweight_Level_II                   2             3             10\n                     Truth\nPrediction            Obesity_Type_II Obesity_Type_III Overweight_Level_I\n  Insufficient_Weight               0                0                  1\n  Normal_Weight                     0                0                 10\n  Obesity_Type_I                    1                0                  7\n  Obesity_Type_II                  50                0                  7\n  Obesity_Type_III                  0               62                  0\n  Overweight_Level_I                0                0                 26\n  Overweight_Level_II               2                0                  6\n                     Truth\nPrediction            Overweight_Level_II\n  Insufficient_Weight                   1\n  Normal_Weight                         2\n  Obesity_Type_I                       12\n  Obesity_Type_II                      14\n  Obesity_Type_III                      0\n  Overweight_Level_I                    2\n  Overweight_Level_II                  15\n\n\nThe LASSO model had an accuracy of about 96.2%, meaning it correctly predicted the obesity category for most of the people in the test set. This is a strong result, especially since there are seven different categories. It shows that even with regularization and some coefficients being removed, the model still did a really good job at classifying individuals based on their lifestyle habits."
  },
  {
    "objectID": "Obesity-Final-Project.html#insights",
    "href": "Obesity-Final-Project.html#insights",
    "title": "Understanding the Impact of Alcohol and Smoking on Obesity Levels",
    "section": "Insights",
    "text": "Insights\n\nLimitations and Future Work\nEven though the models in this project did really well overall, there are still a few important limitations. One of the main things is that it’s hard to tell how much smoking and alcohol really affect obesity on their own. Since the models included a bunch of other lifestyle factors, it’s not easy to separate out their impact. SMOKE and CALC showed up as important in some categories, but not all, and LASSO even removed a few of them completely. That makes it seem like they might not be super strong predictors by themselves, or maybe their effect depends on other things like diet or physical activity.\nAnother thing I ran into is that the dataset doesn’t explain what the different obesity categories actually mean even though at first I thought it did. It uses labels like “Obesity_Type_I” and “Overweight_Level_II,” but there’s no clear definition of what those mean or how different they are. That made it harder to really understand how serious each group is or what separates one from another.\nAlso, the data is self-reported, which isn’t always reliable. People might leave things out or answer in a way that sounds better, especially for questions about smoking, drinking, or eating habits. On top of that, a lot of the data was synthetically generated using SMOTE (Synthetic Minority Oversampling TEchnique) to balance out the categories. That helps with modeling, but it might not reflect real-world responses as well as actual survey data.\nLASSO helped clean up the model by removing predictors that weren’t as helpful, but it didn’t shrink that many variables to zero. That could mean the variables really were useful, or that the penalty wasn’t strong enough to force more selection. Trying other models in the future, like decision trees or random forests, could help show which variables are actually the most important for predicting obesity. But for this project, the main goal was just to see whether smoking and alcohol had any noticeable connection to obesity, and both models helped explore that.\nIn the future, it would help to have a dataset with more detailed health and lifestyle information, and one that clearly defines the outcome labels especially obesity levels. Since this project is about people’s health, it’s important to use results like these to support and inform one another, and not judge anyone based on which category they fit into"
  }
]